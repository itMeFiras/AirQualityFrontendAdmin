<div class="container pt-3"  style="display: flex;padding-left:5%;padding-right: 5%;">
    <div style="width: 50%;"> 
        <h1 class="custom-h3-mobile mb-0 pt-3" style="color: #ff7900;font-weight: bold;">Create a new Node</h1>

        <div class="alert alert-danger alert-dismissible fade show" role="alert" id="alert" *ngIf="currDiv == 'nice'">
            <span class="alert-icon"><span class="visually-hidden">Failed</span></span>
            <p>{{alert}}</p>
        </div>

        <form #userForm="ngForm">
            <div class="pt-4">
                <label for="MAC" class="form-label">MAC address</label>
                <input type="text" class="form-control" id="MAC" aria-describedby="MACHelp"
                [(ngModel)]="node.MAC" name="MAC" placeholder="Node ID/MAC"
                    #MAC="ngModel" required minlength="3">
                    <div  style="color: red" *ngIf="MAC.invalid && MAC.touched">
                        Required & min 3 chars 
                    </div>
            </div>

            <div class="pt-4">
                <label for="title" class="form-label">Node title</label>
                <input type="text" class="form-control" id="title" aria-describedby="titleHelp"
                [(ngModel)]="node.title" name="title" placeholder="Node name to display on the map"
                    #title="ngModel" required minlength="3">
                    <div  style="color: red" *ngIf="title.invalid && title.touched">
                        Required & min 3 chars 
                    </div>
            </div>

            <div class="pt-4">
                <label for="desc" class="form-label">Description</label>
                <textarea type="text" class="form-control" id="desc" aria-describedby="descHelp"
                [(ngModel)]="node.desc" name="desc" placeholder="Node description to display on the map"
                    #desc="ngModel" required minlength="10"></textarea>
                    <div  style="color: red" *ngIf="desc.invalid && desc.touched">
                      Required & min 10 chars 
                  </div>
            </div>

            <div class="pt-4" style="display: flex;">
                <div style="width:45%">
                  <label for="exampleInputLatitude" class="form-label">Latitude</label>
                  <input type="number" class="form-control" id="exampleInputLatitude"
                  [(ngModel)]="node.lat" name="lat"
                    #lat="ngModel" required min="-90" max="90" >
                    <div  style="color: red" *ngIf="lat.invalid && lat.touched">
                        Invalid
                    </div>
                </div>
                <div style="width:45%;margin-left: 10%;">
                    <label for="exampleInputLongitude" class="form-label">Longitude</label>
                    <input type="number" class="form-control" id="exampleInputLongitude"
                    [(ngModel)]="node.long" name="long"
                      #long="ngModel" required min="-180" max="180">
                      <div  style="color: red" *ngIf="long.invalid && long.touched">
                        Invalid
                    </div>
                  </div>
              </div>
        </form>

        <button type="submit" style="width:200px" class="btn btn-primary mt-5 mb-3" (click)="createNode('nice',node)">Create Node</button>
    </div>



    <!-- map section -->
    <div style="width:50%;margin-left: 1%;margin-top: 6%;">

        <label class="mb-1">Please select Location for the node</label>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
            integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
            crossorigin=""/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />

        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
        <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
      
        <div id="map" style="height:400px"></div>
      </div>
    

</div>  